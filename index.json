[{"authors":null,"categories":["calibre 教程"],"content":"在 calibre 中，导入中文书名、中文作者名的书籍时，calibre library 中自动生成的文件夹名、文件名会转换成拼音。这是个老大难的问题了，网络上的解决方案大概有以下 2 种：\n 通过设置项修改 编译 python 文件，替换程序文件  其中，方案 1 针对的是「保存到硬盘」操作，对导入数据不生效。方案 2 在新版 calibre 修改了编译方式后也不生效。\n怎样解决这个问题呢，代码位置已经很清楚了，首先想到的是自己编译源代码。于是尝试编译 calibre，结果失败了。\n换个思路吧，一翻搜索后发现，calibre 的作者强烈不建议自己编译，而是建议使用 debug 模式，具体操作官方文档描述得很清楚，https://manual.calibre-ebook.com/develop.html 。\n以 macOS 为例，首先安装 calibre，brew reinstall --cask calibre 或官网下载 dmg 安装。 然后下载源代码，check out 对应版本，根据需要修改源代码。\ngit clone https://github.com/kovidgoyal/calibre.git gco v5.35.0  创建快捷方式\nvim /usr/local/bin/calibre-develop #!/bin/sh export CALIBRE_DEVELOP_FROM=\u0026#34;/Users/kovid/work/calibre/src\u0026#34; calibre-debug -g chmod +x /usr/local/bin/calibre-develop  通过 calibre-develop 命令运行程序。\n参考资料：\n https://github.com/snomiao/calibre-utf8-path\n ","date":1643328000,"expirydate":-62135596800,"kind":"page","lang":"zh","lastmod":1643328000,"objectID":"d7abc4f12247568ce70f996d06c6bd0a","permalink":"https://northmorn.com/post/calibre/calibre-utf8-name/","publishdate":"2022-01-28T00:00:00Z","relpermalink":"/post/calibre/calibre-utf8-name/","section":"post","summary":"在 calibre 中，导入中文书名、中文作者名的书籍时，calibre library 中","tags":["calibre"],"title":"calibre 保留中文书名","type":"post"},{"authors":null,"categories":["calibre 教程"],"content":"根据官方文档，编译只能在 Linux 环境进行。\n以 Arch Linux 为例。\n1. 安装依赖 export QTWEBENGINE_DISABLE_SANDBOX=1 sudo pacman -Sy sudo pacman -S openssh calibre git pkg-config gcc make sip python-pip --noconfirm pip install PyQt5 PyQt-builder  2. 拉取代码 git clone https://github.com/kovidgoyal/bypy.git git clone https://github.com/kovidgoyal/calibre.git cd bypy \u0026amp;\u0026amp; git switch qt5 \u0026amp;\u0026amp; cd ../calibre  3. 构建依赖 ./setup.py bootstrap  过程比较慢，最好使用代理。\n4. 搭建虚拟环境 以 macOS 为例，官方文档。\n注意，这里失效了：\n-nic user,model=e1000-82545em,mac=52:54:00:0e:0d:20,hostfwd=tcp:0.0.0.0:22001-:22  改为：\n-netdev user,id=net0,hostfwd=tcp:0.0.0.0:22001-:22 \\ -device e1000-82545em,netdev=net0,id=net0,mac=52:54:00:c9:18:27 \\  5. 开始编译 ./setup.py build_dep macos  到这里进行不下去了。执行报错，定位到 read_build_server 函数，原作者没有提供可供参考的配置文件，这里的返回结果 BUILD_SERVER_VM_CD 不知道是什么内容，简单尝试修改仍无法解决。\n此外，bypy/vms.py 文件 ssh_to 函数的参数 port 也是从配置文件中取的，这里没有取到，此处可以暂时改为上文修改过的 22001。\n","date":1643328000,"expirydate":-62135596800,"kind":"page","lang":"zh","lastmod":1643328000,"objectID":"136e7860df02be96b7636b51e59fb10d","permalink":"https://northmorn.com/post/calibre/build-calibre/","publishdate":"2022-01-28T00:00:00Z","relpermalink":"/post/calibre/build-calibre/","section":"post","summary":"根据官方文档，编译只能在 Linux 环境进行。 以 Arch Linux 为例。 1. 安装依赖 export","tags":["calibre"],"title":"尝试编译 calibre","type":"post"},{"authors":null,"categories":["Manjaro 教程"],"content":"问题：Cannot find shared library libffi.so.7 解决方案 手动安装\ngit clone https://aur.archlinux.org/libffi7.git cd libffi7 makepkg -si  ","date":1642723200,"expirydate":-62135596800,"kind":"page","lang":"zh","lastmod":1642723200,"objectID":"0d564a4c635ed3442a7b554d3594dd77","permalink":"https://northmorn.com/post/manjaro/rolling-update-fail/","publishdate":"2022-01-21T00:00:00Z","relpermalink":"/post/manjaro/rolling-update-fail/","section":"post","summary":"问题：Cannot find shared library libffi.so.7 解决方案 手动安装 git clone https://aur.archlinux.org/libffi7.git cd libffi7 makepkg -si","tags":["Manjaro"],"title":"Manjaro 滚动更新失败问题修复","type":"post"},{"authors":null,"categories":["Manjaro 教程"],"content":"桌面环境为 KDE\nsudo pacman -S ibus-rime yay -S ibus-qt  vim ~/.xprofile\nexport GTK_IM_MODULE=ibus export XMODIFIERS=@im=ibus export QT_IM_MODULE=ibus ibus-daemon -d -x  FAQ 问题：候选词横排显示设置无效 IBus Preferences → Font and Style → Candidates orientation: Horizontal\n解决方案 vim /usr/share/rime-data/ibus_rime.yaml\nstyle: # candidate list orientation (false|true). horizontal: true  ","date":1642636800,"expirydate":-62135596800,"kind":"page","lang":"zh","lastmod":1642636800,"objectID":"e623f5454a968cde0cf17444aed7c8b7","permalink":"https://northmorn.com/post/manjaro/ibus-rime/","publishdate":"2022-01-20T00:00:00Z","relpermalink":"/post/manjaro/ibus-rime/","section":"post","summary":"桌面环境为 KDE sudo pacman -S ibus-rime yay -S ibus-qt vim ~/.xprofile export GTK_IM_MODULE=ibus export XMODIFIERS=@im=ibus export QT_IM_MODULE=ibus ibus-daemon -d -x FAQ 问题：候选","tags":["Manjaro","RIME"],"title":"Manjaro 安装 RIME 输入法","type":"post"}]